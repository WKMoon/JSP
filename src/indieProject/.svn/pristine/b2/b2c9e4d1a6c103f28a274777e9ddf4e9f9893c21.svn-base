package com.indieProject.app.board;

import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

import com.indieProject.action.Action;
import com.indieProject.action.ActionForward;
import com.indieProject.app.board.dao.BoardDAO;
import com.indieProject.app.board.vo.BoardVO;

public class BoardWriteAction implements Action {

	@Override
	public ActionForward execute(HttpServletRequest req, HttpServletResponse resp) throws Exception {
		req.setCharacterEncoding("UTF-8");
		resp.setCharacterEncoding("UTF-8");
		
		ActionForward forward = new ActionForward();
		BoardDAO b_dao = new BoardDAO();
		BoardVO b_vo = new BoardVO();
		
		b_vo.setMemberId((String)req.getSession().getAttribute("session_id"));
		b_vo.setBoardContent(req.getParameter("boardContent"));
		b_vo.setBoardImage(req.getParameter("boardImage"));
		
		System.out.println(b_vo.getBoardImage());
		
		forward.setRedirect(true);
		forward.setPath(req.getContextPath()+"/board/Board.bo");
		
		return forward;
	}

}